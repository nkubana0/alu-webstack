#!/usr/bin/env bash
# Function to display information about a subdomain
display_info() {
    local subdomain=$1
    local domain=$2

    # Perform DNS lookup for the subdomain
    local result=$(dig +short ${subdomain}.${domain})

    if [ -z "$result" ]; then
        echo "The subdomain ${subdomain} does not exist for ${domain}"
    else
        local record_type=$(dig +short ${subdomain}.${domain} | awk 'NR==1{print $4}')
        echo "The subdomain ${subdomain} is a ${record_type} record and points to ${result}"
    fi
}

# Function for default subdomains
display_default_info() {
    local domain=$1

    # Default subdomains
    local subdomains=("www" "lb-01" "web-01" "web-02")

    for subdomain in "${subdomains[@]}"; do
        display_info $subdomain $domain
    done
}

# Main 

if [ $# -eq 1 ]; then
    # When only the parameter domain is provided
    display_default_info $1
elif [ $# -eq 2 ]; then
    # When passing domain and subdomain parameters
    display_info $2 $1
else
    # Invalid number of arguments
    echo "Usage: $0 domain [subdomain]"
fi
